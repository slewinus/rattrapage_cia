# ═══════════════════════════════════════════════════════════
# 🔧 CONFIGURATION PRINCIPALE DU PROJET CIA
# ═══════════════════════════════════════════════════════════

# === Projet ===
COMPOSE_PROJECT_NAME=cia-app
ENVIRONMENT=development

# ═══════════════════════════════════════════════════════════
# BASE DE DONNÉES (MariaDB)
# ═══════════════════════════════════════════════════════════
DB_HOST=db
DB_PORT=3306
DB_USER=root
DB_PASSWORD=SecurePassword123!
DB_NAME=cia_database
DB_ROOT_PASSWORD=SecurePassword123!

# ═══════════════════════════════════════════════════════════
# 🔌 API BACKEND (Node.js)
# ═══════════════════════════════════════════════════════════
NODE_ENV=production
API_PORT=3000
API_HOST=0.0.0.0
JWT_SECRET=your-super-secret-jwt-key-change-me-in-production
PYTHON=/usr/bin/python3

# ═══════════════════════════════════════════════════════════
# FRONTEND (React)
# ═══════════════════════════════════════════════════════════
REACT_APP_API_URL=/api
REACT_APP_ENVIRONMENT=production

# ═══════════════════════════════════════════════════════════
# PORTS EXTERNES
# ═══════════════════════════════════════════════════════════
WEB_PORT=8080           # Frontend React (http://localhost:8080)
GRAFANA_PORT=3000       # Grafana monitoring (http://localhost:3000)
LOKI_PORT=3100          # Loki logs (http://localhost:3100)
PORTAINER_PORT=9000     # Portainer Docker UI (http://localhost:9000)

# ═══════════════════════════════════════════════════════════
# Traefik ports (change if 80/443 busy)
# ═══════════════════════════════════════════════════════════
TRAEFIK_HTTP_PORT=8080
TRAEFIK_HTTPS_PORT=8443
BASE_DOMAIN=localhost
ACME_EMAIL=oscar.robert-besle@epitech.eu

# ═══════════════════════════════════════════════════════════
# MONITORING & OBSERVABILITY
# ═══════════════════════════════════════════════════════════

# === Grafana ===
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=GrafanaAdmin2025!
GRAFANA_INSTALL_PLUGINS=

# === Loki ===
LOKI_URL=http://host.docker.internal:3100/loki/api/v1/push
LOKI_RETENTION_PERIOD=168h

# === Portainer ===
PORTAINER_ADMIN_PASSWORD=PortainerAdmin2025!

# === Gitea ===
GITEA_WEB_PORT=3001
GITEA_SSH_PORT=2223
GITEA_ADMIN_USER=gitea_admin
GITEA_ADMIN_PASSWORD=GiteaAdmin2025!
GITEA_ADMIN_EMAIL=admin@gitea.local

# ═══════════════════════════════════════════════════════════
# SECURITY SERVICES
# ═══════════════════════════════════════════════════════════

# === Vault ===
VAULT_DEV_TOKEN=dev-only-token-change-in-production
VAULT_ADDR=http://vault:8200
VAULT_LOG_LEVEL=info

# === Fail2ban ===
F2B_MAX_RETRY=5
F2B_BAN_TIME=3600
F2B_FIND_TIME=600
TZ=Europe/Paris

# ═══════════════════════════════════════════════════════════
# OPTIMISATIONS DOCKER
# ═══════════════════════════════════════════════════════════
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
COMPOSE_PARALLEL_LIMIT=4
