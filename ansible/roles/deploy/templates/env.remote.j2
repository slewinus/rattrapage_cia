# Generated by Ansible for CIA deployment

# === Projet ===
COMPOSE_PROJECT_NAME=cia-app
ENVIRONMENT=production

# === BASE DE DONNÃ‰ES (MariaDB)
DB_HOST=db
DB_PORT=3306
DB_USER=root
DB_PASSWORD=SecurePassword123!
DB_NAME=cia_database
DB_ROOT_PASSWORD=SecurePassword123!

# === API BACKEND (Node.js)
NODE_ENV=production
API_PORT=3000
API_HOST=0.0.0.0
JWT_SECRET=your-super-secret-jwt-key-change-me-in-production
PYTHON=/usr/bin/python3

# === FRONTEND (React)
REACT_APP_API_URL=/api
REACT_APP_ENVIRONMENT=production

# === PORTS EXTERNES
WEB_PORT=8080
GRAFANA_PORT=3000
LOKI_PORT=3100
PORTAINER_PORT=9000

# === Traefik / Domains
TRAEFIK_HTTP_PORT={{ traefik_http_port | default(80) }}
TRAEFIK_HTTPS_PORT={{ traefik_https_port | default(443) }}
BASE_DOMAIN={{ base_domain | default(ansible_host ~ '.sslip.io') }}
ACME_EMAIL={{ acme_email }}
# Password: TraefikAdmin2025! (bcrypt hash)
TRAEFIK_DASHBOARD_AUTH=admin:$$2y$$05$$NS7Gt/oiD4R02T4oNKYhtOenwcp8j5tt7YDrnwZqIiJAs2GzBK4IK


# === MONITORING & OBSERVABILITY
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=GrafanaAdmin2025!
GRAFANA_INSTALL_PLUGINS=

LOKI_URL=http://host.docker.internal:3100/loki/api/v1/push
LOKI_RETENTION_PERIOD=168h

PORTAINER_ADMIN_PASSWORD=PortainerAdmin2025!

# === Gitea
GITEA_WEB_PORT=3001
GITEA_SSH_PORT=2223
GITEA_ADMIN_USER=gitea_admin
GITEA_ADMIN_PASSWORD=GiteaAdmin2025!
GITEA_ADMIN_EMAIL=admin@gitea.local

# === Security
VAULT_DEV_TOKEN=dev-only-token-change-in-production
VAULT_ADDR=http://vault:8200
VAULT_LOG_LEVEL=info

F2B_MAX_RETRY=5
F2B_BAN_TIME=3600
F2B_FIND_TIME=600
TZ=Europe/Paris

# === Docker build opts
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
COMPOSE_PARALLEL_LIMIT=4
